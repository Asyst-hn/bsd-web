[{"/Users/beto/Projects/bsd-web/src/index.tsx":"1","/Users/beto/Projects/bsd-web/src/styles/rootTheme.ts":"2","/Users/beto/Projects/bsd-web/src/App.tsx":"3","/Users/beto/Projects/bsd-web/src/context/notifications.tsx":"4","/Users/beto/Projects/bsd-web/src/context/auth.tsx":"5","/Users/beto/Projects/bsd-web/src/utils/api.ts":"6","/Users/beto/Projects/bsd-web/src/utils/localStore.ts":"7","/Users/beto/Projects/bsd-web/src/pages/home/Home.tsx":"8","/Users/beto/Projects/bsd-web/src/pages/login/Login.tsx":"9","/Users/beto/Projects/bsd-web/src/pages/login/styles.ts":"10","/Users/beto/Projects/bsd-web/src/pages/home/TopBar.tsx":"11","/Users/beto/Projects/bsd-web/src/pages/home/styles.ts":"12","/Users/beto/Projects/bsd-web/src/pages/ticket-table/TicketTable.tsx":"13","/Users/beto/Projects/bsd-web/src/pages/ticket-table/styles.ts":"14","/Users/beto/Projects/bsd-web/src/utils/spanishLocaleText.ts":"15","/Users/beto/Projects/bsd-web/src/components/SearchInput.tsx":"16","/Users/beto/Projects/bsd-web/src/components/TableCell.tsx":"17"},{"size":1141,"mtime":1612921309551,"results":"18","hashOfConfig":"19"},{"size":623,"mtime":1612928926673,"results":"20","hashOfConfig":"19"},{"size":1125,"mtime":1612922791051,"results":"21","hashOfConfig":"19"},{"size":1427,"mtime":1612921543960,"results":"22","hashOfConfig":"19"},{"size":1602,"mtime":1612921556549,"results":"23","hashOfConfig":"19"},{"size":826,"mtime":1612921584995,"results":"24","hashOfConfig":"19"},{"size":388,"mtime":1612921585003,"results":"25","hashOfConfig":"19"},{"size":712,"mtime":1612932121486,"results":"26","hashOfConfig":"19"},{"size":2206,"mtime":1612921963914,"results":"27","hashOfConfig":"19"},{"size":477,"mtime":1612921781112,"results":"28","hashOfConfig":"19"},{"size":1105,"mtime":1612928745734,"results":"29","hashOfConfig":"19"},{"size":597,"mtime":1612932136733,"results":"30","hashOfConfig":"19"},{"size":2752,"mtime":1612932223388,"results":"31","hashOfConfig":"19"},{"size":336,"mtime":1612931906890,"results":"32","hashOfConfig":"19"},{"size":2237,"mtime":1612921585004,"results":"33","hashOfConfig":"19"},{"size":926,"mtime":1612929617033,"results":"34","hashOfConfig":"19"},{"size":476,"mtime":1612929148222,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"1p82ehv",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"/Users/beto/Projects/bsd-web/src/index.tsx",[],["74","75"],"/Users/beto/Projects/bsd-web/src/styles/rootTheme.ts",[],"/Users/beto/Projects/bsd-web/src/App.tsx",["76"],"import React from 'react';\nimport { BrowserRouter as Switch, Route, Redirect } from 'react-router-dom';\nimport { useAuth } from './context/auth';\nimport { Home } from './pages/home/Home';\nimport { Login } from './pages/login/Login';\nimport { Snackbar } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useNotifications } from './context/notifications';\n\nconst App: React.FC = () => {\n\tconst { isAuthenticated } = useAuth();\n\tconst { message, toggle, handleClose, severity } = useNotifications();\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path='/login'>\n\t\t\t\t<Login />\n\t\t\t</Route>\n\t\t\t<Route exact path='/'>\n\t\t\t\t<Redirect to='/app' />\n\t\t\t</Route>\n\t\t\t{/* <Route path='/app'>\n\t\t\t\t{isAuthenticated ? <Home /> : <Redirect to='/login' />}\n\t\t\t</Route> */}\n\t\t\t<Route path='/app'>\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t<Snackbar\n\t\t\t\topen={toggle}\n\t\t\t\tautoHideDuration={5000}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tanchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n\t\t\t\tClickAwayListenerProps={{ mouseEvent: false }}\n\t\t\t>\n\t\t\t\t<Alert severity={severity}>{message}</Alert>\n\t\t\t</Snackbar>\n\t\t</Switch>\n\t);\n};\n\nexport default App;\n","/Users/beto/Projects/bsd-web/src/context/notifications.tsx",[],"/Users/beto/Projects/bsd-web/src/context/auth.tsx",["77"],"import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { api } from '../utils/api';\nimport { getToken, storeToken } from '../utils/localStore';\nimport { BrowserHistory } from 'history';\n\ninterface AuthContextType {\n\ttoken: string | undefined;\n\tisAuthenticated: boolean;\n\taddToken: (token: string) => void;\n\tremoveToken: () => void;\n\tonMount: (history: BrowserHistory) => void;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport const useAuth = (): AuthContextType => useContext(AuthContext);\n\nexport const AuthProvider: React.FC = ({ children }) => {\n\tconst [token, setToken] = useState<string | undefined>(undefined);\n\tconst [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);\n\n\tconst addToken = (token: string) => {\n\t\tsetToken(token);\n\t\tstoreToken(token);\n\t};\n\n\tconst removeToken = () => {\n\t\tlocalStorage.removeItem('token');\n\t\tsetToken(undefined);\n\t};\n\n\tconst checkUser = async () => {\n\t\tif (token) {\n\t\t\ttry {\n\t\t\t\tawait api(\n\t\t\t\t\t{ path: '/users/auth', method: 'GET', token: token },\n\t\t\t\t\t{ noCache: true }\n\t\t\t\t);\n\t\t\t\tsetIsAuthenticated(true);\n\t\t\t} catch (error) {\n\t\t\t\tremoveToken();\n\t\t\t\tsetIsAuthenticated(false);\n\t\t\t}\n\t\t} else {\n\t\t\tsetIsAuthenticated(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcheckUser();\n\t}, [token]);\n\n\tconst onMount = (history: BrowserHistory) => {\n\t\tconst token = getToken();\n\t\tif (token) {\n\t\t\taddToken(token);\n\t\t\thistory.push('/app');\n\t\t}\n\t};\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ token, addToken, removeToken, isAuthenticated, onMount }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n","/Users/beto/Projects/bsd-web/src/utils/api.ts",[],"/Users/beto/Projects/bsd-web/src/utils/localStore.ts",[],"/Users/beto/Projects/bsd-web/src/pages/home/Home.tsx",[],"/Users/beto/Projects/bsd-web/src/pages/login/Login.tsx",["78","79","80"],"import React, { useEffect } from 'react';\nimport { Grid, TextField, Button, Typography } from '@material-ui/core';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useAuth } from '../../context/auth';\nimport { useMutation } from 'react-query';\nimport { AxiosError } from 'axios';\nimport { useForm } from 'react-hook-form';\nimport { api } from '../../utils/api';\nimport { loginStyles } from './styles';\nimport { useNotifications } from '../../context/notifications';\n\nexport const Login: React.FC = () => {\n\tconst classes = loginStyles();\n\tconst history = useHistory();\n\tconst { addToken, onMount } = useAuth();\n\tconst { setAlert } = useNotifications();\n\n\tuseEffect(() => onMount(history), []);\n\n\tconst { register, handleSubmit, errors } = useForm({\n\t\tmode: 'onBlur',\n\t\tdefaultValues: { email: '', password: '' }\n\t});\n\n\tconst { mutate, isLoading, isError, error } = useMutation(\n\t\t(body: any) =>\n\t\t\tapi({\n\t\t\t\tpath: '/users/login',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody\n\t\t\t}),\n\t\t{\n\t\t\tonSuccess: res => {\n\t\t\t\taddToken(res.data.token);\n\t\t\t\tsetAlert('Ha ingresado exitosamente', 'success');\n\t\t\t\thistory.push('/app');\n\t\t\t}\n\t\t}\n\t);\n\n\tconst loginHandler = async (data: any) => mutate(data);\n\n\treturn (\n\t\t<Grid container className={classes.root}>\n\t\t\t<form\n\t\t\t\tonSubmit={handleSubmit(loginHandler)}\n\t\t\t\tclassName={classes.form}\n\t\t\t\tnoValidate\n\t\t\t>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tplaceholder='Correo Electronico'\n\t\t\t\t\tautoComplete='username email'\n\t\t\t\t\tname='email'\n\t\t\t\t\terror={!!errors.email}\n\t\t\t\t\tinputRef={register({ required: true })}\n\t\t\t\t\tsize='small'\n\t\t\t\t\tclassName={classes.input}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='password'\n\t\t\t\t\tplaceholder='Contraseña'\n\t\t\t\t\tautoComplete='password'\n\t\t\t\t\tname='password'\n\t\t\t\t\terror={!!errors.password}\n\t\t\t\t\tinputRef={register({ required: true })}\n\t\t\t\t\tsize='small'\n\t\t\t\t\tclassName={classes.input}\n\t\t\t\t/>\n\n\t\t\t\t{isError ? (\n\t\t\t\t\t<p className={classes.inputError}>\n\t\t\t\t\t\t{(error as AxiosError)?.response?.data.message}\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\ttype='submit'\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t>\n\t\t\t\t\t{isLoading ? 'Ingresando...' : 'Ingresar'}\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Grid>\n\t);\n};\n","/Users/beto/Projects/bsd-web/src/pages/login/styles.ts",[],"/Users/beto/Projects/bsd-web/src/pages/home/TopBar.tsx",[],"/Users/beto/Projects/bsd-web/src/pages/home/styles.ts",[],"/Users/beto/Projects/bsd-web/src/pages/ticket-table/TicketTable.tsx",["81","82","83","84","85","86","87","88","89","90","91"],"/Users/beto/Projects/bsd-web/src/pages/ticket-table/styles.ts",[],"/Users/beto/Projects/bsd-web/src/utils/spanishLocaleText.ts",[],"/Users/beto/Projects/bsd-web/src/components/SearchInput.tsx",[],"/Users/beto/Projects/bsd-web/src/components/TableCell.tsx",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":11,"column":10,"nodeType":"98","messageId":"99","endLine":11,"endColumn":25},{"ruleId":"100","severity":1,"message":"101","line":51,"column":5,"nodeType":"102","endLine":51,"endColumn":12,"suggestions":"103"},{"ruleId":"96","severity":1,"message":"104","line":2,"column":35,"nodeType":"98","messageId":"99","endLine":2,"endColumn":45},{"ruleId":"96","severity":1,"message":"105","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":14},{"ruleId":"100","severity":1,"message":"106","line":18,"column":36,"nodeType":"102","endLine":18,"endColumn":38,"suggestions":"107"},{"ruleId":"96","severity":1,"message":"108","line":1,"column":27,"nodeType":"98","messageId":"99","endLine":1,"endColumn":36},{"ruleId":"96","severity":1,"message":"105","line":2,"column":10,"nodeType":"98","messageId":"99","endLine":2,"endColumn":14},{"ruleId":"96","severity":1,"message":"109","line":3,"column":10,"nodeType":"98","messageId":"99","endLine":3,"endColumn":18},{"ruleId":"96","severity":1,"message":"110","line":4,"column":10,"nodeType":"98","messageId":"99","endLine":4,"endColumn":13},{"ruleId":"96","severity":1,"message":"111","line":6,"column":10,"nodeType":"98","messageId":"99","endLine":6,"endColumn":16},{"ruleId":"96","severity":1,"message":"112","line":8,"column":10,"nodeType":"98","messageId":"99","endLine":8,"endColumn":21},{"ruleId":"96","severity":1,"message":"113","line":16,"column":10,"nodeType":"98","messageId":"99","endLine":16,"endColumn":15},{"ruleId":"96","severity":1,"message":"114","line":18,"column":15,"nodeType":"98","messageId":"99","endLine":18,"endColumn":22},{"ruleId":"96","severity":1,"message":"115","line":19,"column":9,"nodeType":"98","messageId":"99","endLine":19,"endColumn":21},{"ruleId":"96","severity":1,"message":"116","line":19,"column":23,"nodeType":"98","messageId":"99","endLine":19,"endColumn":38},{"ruleId":"96","severity":1,"message":"117","line":40,"column":7,"nodeType":"98","messageId":"99","endLine":40,"endColumn":16},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"@typescript-eslint/no-unused-vars","'isAuthenticated' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkUser'. Either include it or remove the dependency array.","ArrayExpression",["120"],"'Typography' is defined but never used.","'Link' is defined but never used.","React Hook useEffect has missing dependencies: 'history' and 'onMount'. Either include them or remove the dependency array.",["121"],"'useEffect' is defined but never used.","'useQuery' is defined but never used.","'api' is defined but never used.","'Button' is defined but never used.","'SearchInput' is defined but never used.","'token' is assigned a value but never used.","'setRows' is assigned a value but never used.","'searchString' is assigned a value but never used.","'setSearchString' is assigned a value but never used.","'buildRows' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},"Update the dependencies array to be: [checkUser, token]",{"range":"126","text":"127"},"Update the dependencies array to be: [history, onMount]",{"range":"128","text":"129"},[1291,1298],"[checkUser, token]",[702,704],"[history, onMount]"]